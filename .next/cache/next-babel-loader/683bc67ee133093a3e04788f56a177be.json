{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport style from \"../styles/city-picker.scss\";\n\nvar CityPicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CityPicker, _React$Component);\n\n  function CityPicker(props) {\n    var _this;\n\n    _classCallCheck(this, CityPicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CityPicker).call(this, props));\n    _this.state = {\n      opend: false\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CityPicker, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      this.props.onCurrentCityChange(e.target.dataset.id);\n      this.setState({\n        opend: false\n      });\n    }\n  }, {\n    key: \"toggleList\",\n    value: function toggleList() {\n      this.setState(function (prevState) {\n        return {\n          opend: !prevState.opend\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          cityList = _this$props.cityList,\n          currentCity = _this$props.currentCity;\n      var cityItems = cityList.map(function (item) {\n        return __jsx(\"div\", {\n          key: item,\n          className: style.city,\n          onClick: _this2.handleClick,\n          \"data-id\": item,\n          \"data-current\": currentCity === item\n        }, item);\n      });\n      return __jsx(\"div\", {\n        className: style.picker\n      }, __jsx(\"div\", {\n        className: style.current,\n        onClick: function onClick() {\n          return _this2.toggleList();\n        },\n        \"data-opend\": this.state.opend\n      }, __jsx(\"img\", {\n        src: \"/static/touch-icon.png\",\n        alt: \"\\u8D85\\u7EA7\\u7329\\u7329\\xB7\\u8BFE\\u7A0B\\u8868\"\n      }), __jsx(\"span\", null, currentCity), __jsx(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\"\n      }, __jsx(\"polyline\", {\n        points: \"6 9 12 15 18 9\"\n      }))), __jsx(\"div\", {\n        className: style.dropdown,\n        \"data-opend\": this.state.opend\n      }, cityItems));\n    }\n  }]);\n\n  return CityPicker;\n}(React.Component);\n\nexport default CityPicker;","map":null,"metadata":{},"sourceType":"module"}